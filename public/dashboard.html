// Quick Actions - Fixed navigation functions
function showNewNotification() {
    // Navigate to index.html
    window.location.href = 'index.html';
    
    // Store the desired tab in sessionStorage
    sessionStorage.setItem('activeTab', 'new-notification');
}

function showInspectionForm() {
    // Navigate to index.html
    window.location.href = 'index.html';
    
    // Store the desired tab in sessionStorage
    sessionStorage.setItem('activeTab', 'new-inspection');
}

function viewReports() {
    // Navigate to index.html and show inspections tab
    window.location.href = 'index.html';
    
    // Store the desired tab in sessionStorage
    sessionStorage.setItem('activeTab', 'inspections');
}

function manageDrivers() {
    // Navigate to admin panel
    window.location.href = 'admin.html';
}

// Add this to your index.html to handle the navigation
// Put this in the DOMContentLoaded event listener in index.html:
document.addEventListener('DOMContentLoaded', function() {
    // Check if we need to switch to a specific tab
    const activeTab = sessionStorage.getItem('activeTab');
    if (activeTab) {
        // Find and click the appropriate tab
        const tabs = {
            'notifications': 0,
            'inspections': 1,
            'new-notification': 2,
            'new-inspection': 3
        };
        
        const tabButtons = document.querySelectorAll('.tab');
        if (tabButtons[tabs[activeTab]]) {
            tabButtons[tabs[activeTab]].click();
        }
        
        // Clear the session storage
        sessionStorage.removeItem('activeTab');
    }
    
    // Rest of your initialization code...
    loadStats();
    loadNotifications();
    loadInspections();
});
